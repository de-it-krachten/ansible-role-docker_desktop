---

- name: RedHat family
  block:

    - name: download the package (RedHat)
      get_url:
        url: "{{ docker_desktop_rpm }}"
        dest: /var/tmp/{{ docker_desktop_rpm | basename }}
        mode: "0644"

    - name: install the package (RedHat)
      dnf:
        name: /var/tmp/{{ docker_desktop_rpm | basename }}
        state: present

  when: ansible_os_family == 'RedHat'


- name: Debian family
  block:

    - name: download the package (Debian)
      get_url:
        url: "{{ docker_desktop_deb }}"
        dest: /var/tmp/{{ docker_desktop_deb | basename }}
        mode: "0644"

    - name: install the package (Debian)
      apt:
        deb: /var/tmp/{{ docker_desktop_deb | basename }}
  
  when: ansible_os_family == 'Debian'
